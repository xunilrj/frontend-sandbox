<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>  
  <script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.11.1/lodash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/postal.js/1.0.8/postal.min.js"></script>
  <script src="https://rawgit.com/postaljs/postal.diagnostics/master/lib/postal.diagnostics.min.js"></script>
  <script>
    var wireTap = new postal.diagnostics.DiagnosticsWireTap();
    function raise(name,parameter){
      $(this).trigger(name, parameter);
    }
  </script>
</head>
<body>
  <div class="to-broker" data-tobroker="event1">
    <button onclick="javascript:raise('event1',{name:'daniel'})">click</button>    
  </div>   
  <script>
    $(".to-broker").each(function(){
      $(this).attr("data-tobroker")
        .split(",")
        .forEach(function(item){
            $(this).on(item, function(e, data){              
              postal.publish({
                channel: "dom",
                topic: "events." + e.type,
                data: data
              });
          });
        });
      });    
  </script>
</body>
</html>